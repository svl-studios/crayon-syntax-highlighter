var jQueryUrvanovSyntaxHighlighter=jQuery;!function(n){UrvanovSyntaxHighlighterUtil=new function(){var t=this,e=null;t.init=function(){e=UrvanovSyntaxHighlighterSyntaxSettings,t.initGET()},t.addPrefixToID=function(n){return n.replace(/^([#.])?(.*)$/,"$1"+e.prefix+"$2")},t.removePrefixFromID=function(n){var t=new RegExp("^[#.]?"+e.prefix,"i");return n.replace(t,"")},t.cssElem=function(e){return n(t.addPrefixToID(e))},t.setDefault=function(n,t){return void 0===n?t:n},t.setMax=function(n,t){return n<=t?n:t},t.setMin=function(n,t){return n>=t?n:t},t.setRange=function(n,e,r){return t.setMax(t.setMin(n,e),r)},t.getExt=function(n){if(-1!=n.indexOf(".")){var t=n.split(".");return t=t.length?t[t.length-1]:""}},t.initGET=function(){window.currentURL=window.location.protocol+"//"+window.location.host+window.location.pathname,window.currentDir=window.currentURL.substring(0,window.currentURL.lastIndexOf("/")),window.GET=function(n){n=n.split("+").join(" ");for(var t,e={},r=/[?&]?([^=]+)=([^&]*)/g;t=r.exec(n);)e[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return e}(document.location.search)},t.getAJAX=function(t,r){t.version=e.version,n.get(e.ajaxurl,t,r)},t.htmlToElements=function(t){return n.parseHTML(t,document,!0)},t.postAJAX=function(t,r){t.version=e.version,n.post(e.ajaxurl,t,r)},t.reload=function(){var n="?";for(var t in window.GET)n+=t+"="+window.GET[t]+"&";window.location=window.currentURL+n},t.escape=function(n){return"function"==typeof encodeURIComponent?encodeURIComponent(n):"function"!=typeof escape?escape(n):n},t.log=function(n){"undefined"!=typeof console&&e.debug&&console.log(n)},t.decode_html=function(n){return String(n).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},t.encode_html=function(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.getReadableColor=function(t,e){e=n.extend({amount:.5,xMulti:1,yMulti:1.5,normalizeHue:[20,180],normalizeHueXMulti:.4,normalizeHueYMulti:1},e);var r=tinycolor(t).toHsv(),i={x:r.s,y:1-r.v};return i.x*=e.xMulti,i.y*=e.yMulti,e.normalizeHue&&r.h>e.normalizeHue[0]&&r.h<e.normalizeHue[1]&&(i.x*=e.normalizeHueXMulti,i.y*=e.normalizeHueYMulti),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))<e.amount?r.v=0:r.v=1,r.s=0,tinycolor(r).toHexString()},t.removeChars=function(n,t){var e=new RegExp("["+n+"]","gmi");return t.replace(e,"")}},n(document).ready(function(){UrvanovSyntaxHighlighterUtil.init()}),n.fn.bindFirst=function(n,t){this.bind(n,t);var e=this.data("events")[n.split(".")[0]],r=e.pop();e.splice(0,0,r)},n.keys=function(n){var t=[];for(var e in n)t.push(e);return t},RegExp.prototype.execAll=function(n){for(var t=[],e=null;null!=(e=this.exec(n));){var r=[];for(var i in e)parseInt(i)==i&&r.push(e[i]);t.push(r)}return t},RegExp.prototype.escape=function(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},String.prototype.sliceReplace=function(n,t,e){return this.substring(0,n)+e+this.substring(t)},String.prototype.escape=function(){var n={"&":"&amp;","<":"&lt;",">":"&gt;"};return this.replace(/[&<>]/g,function(t){return n[t]||t})},String.prototype.linkify=function(n){return n=void 0!==n?n:"",this.replace(/(http(s)?:\/\/(\S)+)/gim,'<a href="$1" target="'+n+'">$1</a>')},String.prototype.toTitleCase=function(){var t=this.split(/\s+/),e="";return n.each(t,function(n,r){""!=r&&(e+=r.slice(0,1).toUpperCase()+r.slice(1,r.length),n!=t.length-1&&""!=t[n+1]&&(e+=" "))}),e}}(jQueryUrvanovSyntaxHighlighter);
jqueryPopup=Object(),jqueryPopup.defaultSettings={centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0,data:null,event:"click"},jQueryUrvanovSyntaxHighlighter,popupWindow=function(e,t,n,o){if(n=void 0!==n?n:null,o=void 0!==o?o:null,"string"==typeof e&&(e=jQuery(e)),!(e instanceof jQuery))return!1;var i=jQuery.extend({},jqueryPopup.defaultSettings,t||{});return e.handler=jQuery(e).on(i.event,function(){n&&n();var e="height="+i.height+",width="+i.width+",toolbar="+i.toolbar+",scrollbars="+i.scrollbars+",status="+i.status+",resizable="+i.resizable+",location="+i.location+",menuBar="+i.menubar;i.windowName=i.windowName||jQuery(this).attr("name");var t,r,w=jQuery(this).attr("href");i.windowURL||"#"==w||""==w||(i.windowURL=jQuery(this).attr("href"));var d=null;i.centerBrowser?(void 0===window.screenY?(t=window.screenTop-120+((document.documentElement.clientHeight+120)/2-i.height/2),r=window.screenLeft+((document.body.offsetWidth+20)/2-i.width/2)):(t=window.screenY+(window.outerHeight/2-i.height/2),r=window.screenX+(window.outerWidth/2-i.width/2)),d=window.open(i.windowURL,i.windowName,e+",left="+r+",top="+t)):i.centerScreen?(t=(screen.height-i.height)/2,r=(screen.width-i.width)/2,d=window.open(i.windowURL,i.windowName,e+",left="+r+",top="+t)):d=window.open(i.windowURL,i.windowName,e+",left="+i.left+",top="+i.top),null!=d&&(d.focus(),i.data&&d.document.write(i.data)),o&&o()}),i},popdownWindow=function(e,t){if(void 0===t&&(t="click"),!((e=jQuery(e))instanceof jQuery))return!1;e.off(t,e.handler)};
!function(t){t.fn.exists=function(){return 0!==this.length},t.fn.style=function(t,i,e){var n=this.get(0);if(void 0!==n){var a=n.style;return void 0===t?a:void 0===i?a[t]:(e=void 0!==e?e:"",void(void 0!==a.setProperty?a.setProperty(t,i,e):a[t]=i))}};var i="crayon-pressed",e="urvanov-syntax-highlighter-expanded urvanov-syntax-highlighter-toolbar-visible";UrvanovSyntaxHighlighterSyntax=new function(){var n,a,o=this,r=new Object,l=0;o.init=function(){void 0===r&&(r=new Object),UrvanovSyntaxHighlighterSyntaxSettings,n=UrvanovSyntaxHighlighterSyntaxStrings,t("div.urvanov-syntax-highlighter-syntax").each(function(){o.process(this)})},o.process=function(i,e){var n=(i=t(i)).attr("id");if("urvanov-syntax-highlighter-"==n&&(n+=h()),i.attr("id",n),UrvanovSyntaxHighlighterUtil.log(n),void 0===e&&(e=!1),e||s(n)){var l=i.find(".crayon-toolbar"),v=i.find(".crayon-info"),c=i.find(".urvanov-syntax-highlighter-plain"),p=i.find(".urvanov-syntax-highlighter-main"),x=i.find(".crayon-table"),y=i.find(".urvanov-syntax-highlighter-code"),S=i.find(".crayon-title"),H=i.find(".crayon-tools"),U=i.find(".crayon-nums"),C=i.find(".urvanov-syntax-highlighter-nums-content"),B=i.find(".urvanov-syntax-highlighter-nums-button"),P=i.find(".urvanov-syntax-highlighter-wrap-button"),W=i.find(".urvanov-syntax-highlighter-expand-button"),L=i.find(".urvanov-syntax-highlighter-popup-button"),V=i.find(".urvanov-syntax-highlighter-copy-button"),O=i.find(".urvanov-syntax-highlighter-plain-button");r[n]=i,r[n].toolbar=l,r[n].plain=c,r[n].info=v,r[n].main=p,r[n].table=x,r[n].code=y,r[n].title=S,r[n].tools=H,r[n].nums=U,r[n].nums_content=C,r[n].numsButton=B,r[n].wrapButton=P,r[n].expandButton=W,r[n].popup_button=L,r[n].copy_button=V,r[n].plainButton=O,r[n].numsVisible=!0,r[n].wrapped=!1,r[n].plainVisible=!1,r[n].toolbar_delay=0,r[n].time=1,t(".urvanov-syntax-highlighter-plain").css("z-index",0);var I,_=p.style();r[n].mainStyle={height:_&&_.height||"","max-height":_&&_.maxHeight||"","min-height":_&&_.minHeight||"",width:_&&_.width||"","max-width":_&&_.maxWidth||"","min-width":_&&_.minWidth||""},r[n].mainHeightAuto=""==r[n].mainStyle.height&&""==r[n].mainStyle["max-height"];var M=0;r[n].loading=!0,r[n].scrollBlockFix=!1,B.on("click",function(){UrvanovSyntaxHighlighterSyntax.toggleNums(n)}),P.on("click",function(){UrvanovSyntaxHighlighterSyntax.toggleWrap(n)}),W.on("click",function(){UrvanovSyntaxHighlighterSyntax.toggleExpand(n)}),O.on("click",function(){UrvanovSyntaxHighlighterSyntax.togglePlain(n)}),V.on("click",function(){UrvanovSyntaxHighlighterSyntax.copyPlain(n)}),u(n);I=setInterval(function(){0!=U.filter('[data-settings~="hide"]').length?C.ready(function(){UrvanovSyntaxHighlighterUtil.log("function"+n),UrvanovSyntaxHighlighterSyntax.toggleNums(n,!0,!0)}):m(n),void 0===r[n].expanded&&(Math.abs(r[n].main.outerWidth()-r[n].table.outerWidth())<10?r[n].expandButton.hide():r[n].expandButton.show()),5==M&&(clearInterval(I),r[n].loading=!1),M++},300),k(n),t(".crayon-num",r[n]).each(function(){var i=t(this).attr("data-line"),e=t("#"+i),n=e.style("height");n&&e.attr("data-height",n)}),p.css("position","relative"),p.css("z-index",1),(a=0!=i.filter('[data-settings~="touchscreen"]').length)||(p.on("click",function(){g(n,"",!1)}),c.on("click",function(){g(n,"",!1)}),v.on("click",function(){g(n,"",!1)})),0==i.filter('[data-settings~="no-popup"]').length&&(r[n].popup_settings=popupWindow(L,{height:screen.height-200,width:screen.width-100,top:75,left:50,scrollbars:1,windowURL:"",data:""},function(){d(n)},function(){})),c.css("opacity",0),r[n].toolbarVisible=!0,r[n].hasOneLine=x.outerHeight()<2*l.outerHeight(),r[n].toolbarMouseover=!1,0==l.filter('[data-settings~="mouseover"]').length||a?a&&l.show():(r[n].toolbarMouseover=!0,r[n].toolbarVisible=!1,l.css("margin-top","-"+l.outerHeight()+"px"),l.hide(),0==l.filter('[data-settings~="overlay"]').length||r[n].hasOneLine?l.css("z-index",4):(l.css("position","absolute"),l.css("z-index",2),0!=l.filter('[data-settings~="hide"]').length&&(p.on("click",function(){w(n,void 0,void 0,0)}),c.on("click",function(){w(n,!1,void 0,0)}))),0!=l.filter('[data-settings~="delay"]').length&&(r[n].toolbar_delay=500),i.on("mouseenter",function(){w(n,!0)}).on("mouseleave",function(){w(n,!1)})),0==i.filter('[data-settings~="minimize"]').length&&o.minimize(n),0==c.length||a||(0!=c.filter('[data-settings~="dblclick"]').length?p.on("dblclick",function(){UrvanovSyntaxHighlighterSyntax.togglePlain(n)}):0!=c.filter('[data-settings~="click"]').length?p.on("click",function(){UrvanovSyntaxHighlighterSyntax.togglePlain(n)}):0!=c.filter('[data-settings~="mouseover"]').length&&(i.on("mouseenter",function(){UrvanovSyntaxHighlighterSyntax.togglePlain(n,!0)}).on("mouseleave",function(){UrvanovSyntaxHighlighterSyntax.togglePlain(n,!1)}),B.hide()),0!=c.filter('[data-settings~="show-plain-default"]').length&&UrvanovSyntaxHighlighterSyntax.togglePlain(n,!0));var A=0!=i.filter('[data-settings~="expand"]').length;a||0==i.filter('[data-settings~="scroll-mouseover"]').length||(p.css("overflow","hidden"),c.css("overflow","hidden"),i.on("mouseenter",function(){T(n,!0,A)}).on("mouseleave",function(){T(n,!1,A)})),A&&i.on("mouseenter",function(){z(n,!0)}).on("mouseleave",function(){z(n,!1)}),0!=i.filter('[data-settings~="disable-anim"]').length&&(r[n].time=0),0!=i.filter('[data-settings~="wrap"]').length&&(r[n].wrapped=!0),r[n].mac=i.hasClass("urvanov-syntax-highlighter-os-mac"),m(n),b(n),f(n)}};var s=function(i){return UrvanovSyntaxHighlighterUtil.log(r),void 0===r[i]?(r[i]=t("#"+i),UrvanovSyntaxHighlighterUtil.log("make "+i),!0):(UrvanovSyntaxHighlighterUtil.log("no make "+i),!1)},h=function(){return l++},d=function(i){if(void 0===r[i])return s(i);var e=r[i].popup_settings;if(!e||!e.data){var n=r[i].clone(!0);n.removeClass("urvanov-syntax-highlighter-wrapped"),r[i].wrapped&&t(".crayon-num",n).each(function(){var i=t(this).attr("data-line"),e=t("#"+i),n=e.attr("data-height");void 0!==(n=n||"")&&(e.css("height",n),t(this).css("height",n))}),n.find(".urvanov-syntax-highlighter-main").css("height","");var a="";a=r[i].plainVisible?n.find(".urvanov-syntax-highlighter-plain"):n.find(".urvanov-syntax-highlighter-main"),e.data=o.getAllCSS()+'<body class="urvanov-syntax-highlighter-popup-window" style="padding:0; margin:0;"><div class="'+n.attr("class")+' urvanov-syntax-highlighter-popup">'+o.removeCssInline(o.getHtmlString(a))+"</div></body>"}};o.minimize=function(i){var e=t('<div class="urvanov-syntax-highlighter-minimize urvanov-syntax-highlighter-button"><div>');r[i].tools.append(e),r[i].origTitle=r[i].title.html(),r[i].origTitle||r[i].title.html(n.minimize);var a="urvanov-syntax-highlighter-minimized",o=function(){r[i].toolbarPreventHide=!1,e.remove(),r[i].removeClass(a),r[i].title.html(r[i].origTitle);var t=r[i].toolbar;0!=t.filter('[data-settings~="never-show"]').length&&t.remove()};r[i].toolbar.on("click",o),e.on("click",o),r[i].addClass(a),r[i].toolbarPreventHide=!0,w(i,void 0,void 0,0)},o.getHtmlString=function(i){return t("<div>").append(i.clone()).remove().html()},o.removeCssInline=function(t){for(var i=/style\s*=\s*"([^"]+)"/gim,e=null;null!=(e=i.exec(t));){var n=e[1];n=n.replace(/\b(?:width|height)\s*:[^;]+;/gim,""),t=t.sliceReplace(e.index,e.index+e[0].length,'style="'+n+'"')}return t},o.getAllCSS=function(){var i="",e=t('link[rel="stylesheet"]');return(1==e.length?e:e.filter('[href*="urvanov-syntax-highlighter"], [href*="min/"]')).each(function(){var e=o.getHtmlString(t(this));i+=e}),i},o.copyPlain=function(t,i){if(void 0===r[t])return s(t);r[t].plain;o.togglePlain(t,!0,!0),w(t,!0);var e=r[t].mac?"⌘":"CTRL",a=n.copy;return a=(a=a.replace(/%s/,e+"+C")).replace(/%s/,e+"+V"),g(t,a),!1};var g=function(t,i,e){if(void 0===r[t])return s(t);var n=r[t].info;void 0===i&&(i=""),void 0===e&&(e=!0),v(n)&&e&&(n.html("<div>"+i+"</div>"),n.css("margin-top",-n.outerHeight()),n.show(),c(t,n,!0),setTimeout(function(){c(t,n,!1)},5e3)),e||c(t,n,!1)},u=function(i){window.devicePixelRatio>1&&t(".urvanov-syntax-highlighter-button-icon",r[i].toolbar).each(function(){var i=t(this).css("background-image").replace(/\.(?=[^\.]+$)/g,"@2x.");t(this).css("background-size","48px 128px"),t(this).css("background-image",i)})},v=function(t){var i="-"+t.outerHeight()+"px";return t.css("margin-top")==i||"none"==t.css("display")},c=function(t,i,e,n,a,o){var r=function(){o&&o(t,i)},l="-"+i.outerHeight()+"px";void 0===e&&(e=!!v(i)),void 0===n&&(n=100),0==n&&(n=!1),void 0===a&&(a=0),i.stop(!0),1==e?(i.show(),i.animate({marginTop:0},L(n,t),r)):0==e&&("0px"==i.css("margin-top")&&a&&i.delay(a),i.animate({marginTop:l},L(n,t),function(){i.hide(),r()}))};o.togglePlain=function(t,i,e){if(void 0===r[t])return s(t);var n,a,o=r[t].main,l=r[t].plain;return!o.is(":animated")&&!l.is(":animated")||void 0!==i?(P(t),void 0!==i?i?(n=o,a=l):(n=l,a=o):1==o.css("z-index")?(n=o,a=l):(n=l,a=o),r[t].plainVisible=a==l,r[t].top=n.scrollTop(),r[t].left=n.scrollLeft(),r[t].scrollChanged=!1,k(t),n.stop(!0),n.fadeTo(L(500,t),0,function(){n.css("z-index",0)}),a.stop(!0),a.fadeTo(L(500,t),1,function(){a.css("z-index",1),a==l&&e&&l.select(),a.scrollTop(r[t].top+1),a.scrollTop(r[t].top),a.scrollLeft(r[t].left+1),a.scrollLeft(r[t].left)}),a.scrollTop(r[t].top),a.scrollLeft(r[t].left),b(t),w(t,!1),!1):void 0},o.toggleNums=function(t,i,e){if(void 0===r[t])return s(t),!1;if(r[t].table.is(":animated"))return!1;var n,a="-"+Math.round(r[t].nums_content.outerWidth()+1)+"px";if(void 0===i&&r[t].table.css("margin-left")==a?(n="0px",r[t].numsVisible=!0):(r[t].table.css("margin-left","0px"),r[t].numsVisible=!1,n=a),void 0!==e)return r[t].table.css("margin-left",n),m(t),!1;var o=r[t].table.outerWidth()+p(r[t].table.css("margin-left"))>r[t].main.outerWidth(),l=r[t].table.outerHeight()>r[t].main.outerHeight();return o||l||r[t].main.css("overflow","hidden"),r[t].table.animate({marginLeft:n},L(200,t),function(){void 0!==r[t]&&(m(t),o||l||r[t].main.css("overflow","auto"))}),!1},o.toggleWrap=function(t){r[t].wrapped=!r[t].wrapped,f(t)},o.toggleExpand=function(t){var i=!UrvanovSyntaxHighlighterUtil.setDefault(r[t].expanded,!1);z(t,i)};var f=function(t,i){i=UrvanovSyntaxHighlighterUtil.setDefault(i,!0),r[t].wrapped?r[t].addClass("urvanov-syntax-highlighter-wrapped"):r[t].removeClass("urvanov-syntax-highlighter-wrapped"),x(t),!r[t].expanded&&i&&B(t),r[t].wrapTimes=0,clearInterval(r[t].wrapTimer),r[t].wrapTimer=setInterval(function(){r[t].is(":visible")&&(W(t),r[t].wrapTimes++,5==r[t].wrapTimes&&clearInterval(r[t].wrapTimer))},200)},p=function(t){if("string"!=typeof t)return 0;var i=t.replace(/[^-0-9]/g,"");return 0==i.length?0:parseInt(i)},m=function(t){void 0!==r[t]&&void 0!==r[t].numsVisible&&(r[t].numsVisible?(r[t].numsButton.removeClass(""),r[t].numsButton.addClass(i)):(r[t].numsButton.removeClass(i),r[t].numsButton.addClass("")))},x=function(t){void 0!==r[t]&&void 0!==r[t].wrapped&&(r[t].wrapped?(r[t].wrapButton.removeClass(""),r[t].wrapButton.addClass(i)):(r[t].wrapButton.removeClass(i),r[t].wrapButton.addClass("")))},y=function(t){void 0!==r[t]&&void 0!==r[t].expanded&&(r[t].expanded?(r[t].expandButton.removeClass(""),r[t].expandButton.addClass(i)):(r[t].expandButton.removeClass(i),r[t].expandButton.addClass("")))},b=function(t){void 0!==r[t]&&void 0!==r[t].plainVisible&&(r[t].plainVisible?(r[t].plainButton.removeClass(""),r[t].plainButton.addClass(i)):(r[t].plainButton.removeClass(i),r[t].plainButton.addClass("")))},w=function(t,i,e,n){if(void 0===r[t])return s(t);if(r[t].toolbarMouseover&&!(0==i&&r[t].toolbarPreventHide||a)){var o=r[t].toolbar;void 0===n&&(n=r[t].toolbar_delay),c(t,o,i,e,n,function(){r[t].toolbarVisible=i})}},S=function(i,e){var n=t.extend({},i);return n.width+=e.width,n.height+=e.height,n},H=function(i,e){var n=t.extend({},i);return n.width-=e.width,n.height-=e.height,n},z=function(i,n){if(void 0===r[i])return s(i);if(void 0!==n){var a=r[i].main;r[i].plain;if(n){if(void 0===r[i].expanded){!function(t){void 0===r[t].initialSize&&(r[t].toolbarHeight=r[t].toolbar.outerHeight(),r[t].innerSize={width:r[t].width(),height:r[t].height()},r[t].outerSize={width:r[t].outerWidth(),height:r[t].outerHeight()},r[t].borderSize=H(r[t].outerSize,r[t].innerSize),r[t].initialSize={width:r[t].main.outerWidth(),height:r[t].main.outerHeight()},r[t].initialSize.height+=r[t].toolbarHeight,r[t].initialOuterSize=S(r[t].initialSize,r[t].borderSize),r[t].finalSize={width:r[t].table.outerWidth(),height:r[t].table.outerHeight()},r[t].finalSize.height+=r[t].toolbarHeight,r[t].finalSize.width=UrvanovSyntaxHighlighterUtil.setMin(r[t].finalSize.width,r[t].initialSize.width),r[t].finalSize.height=UrvanovSyntaxHighlighterUtil.setMin(r[t].finalSize.height,r[t].initialSize.height),r[t].diffSize=H(r[t].finalSize,r[t].initialSize),r[t].finalOuterSize=S(r[t].finalSize,r[t].borderSize),r[t].initialSize.height+=r[t].toolbar.outerHeight())}(i),r[i].expandTime=UrvanovSyntaxHighlighterUtil.setRange(r[i].diffSize.width/3,300,800),r[i].expanded=!1;var o=r[i].finalOuterSize;r[i].placeholder=t("<div></div>"),r[i].placeholder.addClass("urvanov-syntax-highlighter-placeholder"),r[i].placeholder.css(o),r[i].before(r[i].placeholder),r[i].placeholder.css("margin",r[i].css("margin")),t(window).on("resize",U)}r[i].outerWidth(r[i].outerWidth()),r[i].css({"min-width":"none","max-width":"none"});var l={width:r[i].finalOuterSize.width};r[i].mainHeightAuto||r[i].hasOneLine||(l.height=r[i].finalOuterSize.height,r[i].outerHeight(r[i].outerHeight())),a.css({height:"auto","min-height":"none","max-height":"none"}),a.css({width:"auto","min-width":"none","max-width":"none"}),r[i].stop(!0),r[i].animate(l,L(r[i].expandTime,i),function(){r[i].expanded=!0,y(i)}),r[i].placeholder.show(),t("body").prepend(r[i]),r[i].addClass(e),U()}else{var h=r[i].initialOuterSize,d=r[i].toolbar_delay;if(h){r[i].stop(!0),r[i].expanded||r[i].delay(d);l={width:h.width};r[i].mainHeightAuto||r[i].hasOneLine||(l.height=h.height),r[i].animate(l,L(r[i].expandTime,i),function(){C(i)})}else setTimeout(function(){C(i)},d);r[i].placeholder.hide(),r[i].placeholder.before(r[i]),r[i].css({left:"auto",top:"auto"}),r[i].removeClass(e)}P(i),n&&f(i,!1)}},U=function(){for(uid in r)r[uid].hasClass(e)&&r[uid].css(r[uid].placeholder.offset())},C=function(t){r[t].expanded=!1,B(t),y(t),r[t].wrapped&&f(t)},T=function(t,i,e){if(void 0===r[t])return s(t);if(void 0!==i&&!e&&!r[t].expanded){var n=r[t].main,a=r[t].plain;i?(n.css("overflow","auto"),a.css("overflow","auto"),void 0!==r[t].top&&(visible=1==n.css("z-index")?n:a,visible.scrollTop(r[t].top-1),visible.scrollTop(r[t].top),visible.scrollLeft(r[t].left-1),visible.scrollLeft(r[t].left))):(visible=1==n.css("z-index")?n:a,r[t].top=visible.scrollTop(),r[t].left=visible.scrollLeft(),n.css("overflow","hidden"),a.css("overflow","hidden")),r[t].scrollChanged=!0,k(t)}},k=function(t){r[t].table.style("width","100%","important");var i=setTimeout(function(){r[t].table.style("width",""),clearInterval(i)},10)},B=function(t){var i=r[t].main,e=r[t].mainStyle;i.css(e),r[t].css("height","auto"),r[t].css("width",e.width),r[t].css("max-width",e["max-width"]),r[t].css("min-width",e["min-width"])},P=function(t){r[t].plain.outerHeight(r[t].main.outerHeight())},W=function(i){t(".crayon-num",r[i]).each(function(){var e=t(this).attr("data-line"),n=t("#"+e),a=null;r[i].wrapped?(n.css("height",""),a=(a=n.outerHeight())||""):(a=(a=n.attr("data-height"))||"",n.css("height",a)),t(this).css("height",a)})},L=function(t,i){if("fast"==t)t=200;else if("slow"==t)t=600;else if(!V(t)&&(t=parseInt(t),isNaN(t)))return 0;return t*r[i].time},V=function(t){return"number"==typeof t}},t(document).ready(function(){UrvanovSyntaxHighlighterSyntax.init()})}(jQueryUrvanovSyntaxHighlighter);
!function(t){var i=UrvanovSyntaxHighlighterTagEditorSettings;window.urvanovSyntaxHighlighterQuickTags=new function(){var n=this;n.init=function(){n.sel='*[id*="urvanov_syntax_highlighter_quicktag"],*[class*="urvanov_syntax_highlighter_quicktag"]';var e=i.quicktag_text;e=void 0!==e?e:"urvanov_syntax_highlighter",QTags.addButton("urvanov_syntax_highlighter_quicktag",e,function(i,e){UrvanovSyntaxHighlighterTagEditor.showDialog({insert:function(t){QTags.insertContent(t)},select:n.getSelectedText(e),editor_str:"html",output:"encode"}),t(n.sel).removeClass("qt_urvanov_syntax_highlighter_highlight")});var a=setInterval(function(){void 0!==t(n.sel).first()&&(UrvanovSyntaxHighlighterTagEditor.bind(n.sel),clearInterval(a))},100)},n.getSelectedText=function(t){if(""===t)return null;var i=t.selectionStart,n=t.selectionEnd;return t.value.substring(i,n)}},t(document).ready(function(){urvanovSyntaxHighlighterQuickTags.init()})}(jQueryUrvanovSyntaxHighlighter);
!function(t,e,i){function o(i,o,n){var r=e.createElement(i);return o&&(r.id=Y+o),n&&(r.style.cssText=n),t(r)}function n(){return i.innerHeight?i.innerHeight:t(i).height()}function r(e,i){i!==Object(i)&&(i={}),this.cache={},this.el=e,this.value=function(e){var o;return void 0===this.cache[e]&&(void 0!==(o=t(this.el).attr("data-cbox-"+e))?this.cache[e]=o:void 0!==i[e]?this.cache[e]=i[e]:void 0!==V[e]&&(this.cache[e]=V[e])),this.cache[e]},this.get=function(e){var i=this.value(e);return t.isFunction(i)?i.call(this.el,this):i}}function h(t){var e=k.length,i=(N+t)%e;return 0>i?e+i:i}function a(t,e){return Math.round((/%/.test(t)?("x"===e?W.width():n())/100:1)*parseInt(t,10))}function s(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function l(t,e){return t.get("retinaUrl")&&i.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function d(t){"contains"in v[0]&&!v[0].contains(t.target)&&t.target!==w[0]&&(t.stopPropagation(),v.trigger("focus"))}function c(t){c.str!==t&&(v.add(w).removeClass(c.str).addClass(t),c.str=t)}function g(i){t(e).trigger(i),ht.triggerHandler(i)}function u(i){var n;if(!q){if(n=t(i).data("colorbox"),function(e){N=0,e&&!1!==e?(k=t("."+Z).filter(function(){return new r(this,t.data(this,X)).get("rel")===e}),-1===(N=k.index(O.el))&&(k=k.add(O.el),N=k.length-1)):k=t(O.el)}((O=new r(i,n)).get("rel")),!U){U=$=!0,c(O.get("className")),v.css({visibility:"hidden",display:"block",opacity:""}),E=o(at,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),y.css({width:"",height:""}).append(E),_=b.height()+H.height()+y.outerHeight(!0)-y.height(),D=T.width()+C.width()+y.outerWidth(!0)-y.width(),j=E.outerHeight(!0),A=E.outerWidth(!0);var h=a(O.get("initialWidth"),"x"),s=a(O.get("initialHeight"),"y"),l=O.get("maxWidth"),u=O.get("maxHeight");O.w=(!1!==l?Math.min(h,a(l,"x")):h)-A-D,O.h=(!1!==u?Math.min(s,a(u,"y")):s)-j-_,E.css({width:"",height:O.h}),Q.position(),g(tt),O.get("onOpen"),B.add(S).hide(),v.trigger("focus"),O.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",d,!0),ht.one(nt,function(){e.removeEventListener("focus",d,!0)})),O.get("returnFocus")&&ht.one(nt,function(){t(O.el).trigger("focus")})}w.css({opacity:parseFloat(O.get("opacity"))||"",cursor:O.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),O.get("closeButton")?P.html(O.get("close")).appendTo(y):P.appendTo("<div/>"),m()}}function f(){!v&&e.body&&(J=!1,W=t(i),v=o(at).attr({id:X,class:!1===t.support.opacity?Y+"IE":"",role:"dialog",tabindex:"-1"}).hide(),w=o(at,"Overlay").hide(),M=t([o(at,"LoadingOverlay")[0],o(at,"LoadingGraphic")[0]]),x=o(at,"Wrapper"),y=o(at,"Content").append(S=o(at,"Title"),I=o(at,"Current"),K=t('<button type="button"/>').attr({id:Y+"Previous"}),F=t('<button type="button"/>').attr({id:Y+"Next"}),R=o("button","Slideshow"),M),P=t('<button type="button"/>').attr({id:Y+"Close"}),x.append(o(at).append(o(at,"TopLeft"),b=o(at,"TopCenter"),o(at,"TopRight")),o(at,!1,"clear:left").append(T=o(at,"MiddleLeft"),y,C=o(at,"MiddleRight")),o(at,!1,"clear:left").append(o(at,"BottomLeft"),H=o(at,"BottomCenter"),o(at,"BottomRight"))).find("div div").css({float:"left"}),L=o(at,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),B=F.add(K).add(I).add(R),t(e.body).append(w,v.append(x,L)))}function p(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),u(this))}return!!v&&(J||(J=!0,F.on( 'click', function(){Q.next()}),K.on( 'click', function(){Q.prev()}),P.on( 'click',function(){Q.close()}),w.on( 'click', function(){O.get("overlayClose")&&Q.close()}),t(e).on("keydown."+Y,function(t){var e=t.keyCode;U&&O.get("escKey")&&27===e&&(t.preventDefault(),Q.close()),U&&O.get("arrowKey")&&k[1]&&!t.altKey&&(37===e?(t.preventDefault(),K.trigger('click')):39===e&&(t.preventDefault(),F.trigger( 'click')))}),t.isFunction(t.fn.on)?t(e).on("click."+Y,"."+Z,i):t("."+Z).live("click."+Y,i)),!0)}function m(){var e,n,r,h=Q.prep,d=++st;if($=!0,z=!1,g(rt),g(et),O.get("onLoad"),O.h=O.get("height")?a(O.get("height"),"y")-j-_:O.get("innerHeight")&&a(O.get("innerHeight"),"y"),O.w=O.get("width")?a(O.get("width"),"x")-A-D:O.get("innerWidth")&&a(O.get("innerWidth"),"x"),O.mw=O.w,O.mh=O.h,O.get("maxWidth")&&(O.mw=a(O.get("maxWidth"),"x")-A-D,O.mw=O.w&&O.w<O.mw?O.w:O.mw),O.get("maxHeight")&&(O.mh=a(O.get("maxHeight"),"y")-j-_,O.mh=O.h&&O.h<O.mh?O.h:O.mh),e=O.get("href"),G=setTimeout(function(){M.show()},100),O.get("inline")){var c=t(e);r=t("<div>").hide().insertBefore(c),ht.one(rt,function(){r.replaceWith(c)}),h(c)}else O.get("iframe")?h(" "):O.get("html")?h(O.get("html")):s(O,e)?(e=l(O,e),z=new Image,t(z).addClass(Y+"Photo").bind("error",function(){h(o(at,"Error").html(O.get("imgError")))}).one("load",function(){d===st&&setTimeout(function(){var e;t.each(["alt","longdesc","aria-describedby"],function(e,i){var o=t(O.el).attr(i)||t(O.el).attr("data-"+i);o&&z.setAttribute(i,o)}),O.get("retinaImage")&&i.devicePixelRatio>1&&(z.height=z.height/i.devicePixelRatio,z.width=z.width/i.devicePixelRatio),O.get("scalePhotos")&&(n=function(){z.height-=z.height*e,z.width-=z.width*e},O.mw&&z.width>O.mw&&(e=(z.width-O.mw)/z.width,n()),O.mh&&z.height>O.mh&&(e=(z.height-O.mh)/z.height,n())),O.h&&(z.style.marginTop=Math.max(O.mh-z.height,0)/2+"px"),k[1]&&(O.get("loop")||k[N+1])&&(z.style.cursor="pointer",z.onclick=function(){Q.next()}),z.style.width=z.width+"px",z.style.height=z.height+"px",h(z)},1)}),z.src=e):e&&L.load(e,O.get("data"),function(e,i){d===st&&h("error"===i?o(at,"Error").html(O.get("xhrError")):t(this).contents())})}var w,v,x,y,b,T,C,H,k,W,E,L,M,S,I,R,F,K,P,B,O,_,D,j,A,N,z,U,$,q,G,Q,J,V={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title}},X="colorbox",Y="cbox",Z=Y+"Element",tt=Y+"_open",et=Y+"_load",it=Y+"_complete",ot=Y+"_cleanup",nt=Y+"_closed",rt=Y+"_purge",ht=t("<a/>"),at="div",st=0,lt={},dt=function(){function t(){clearTimeout(h)}function e(){(O.get("loop")||k[N+1])&&(t(),h=setTimeout(Q.next,O.get("slideshowSpeed")))}function i(){R.html(O.get("slideshowStop")).unbind(s).one(s,o),ht.bind(it,e).bind(et,t),v.removeClass(a+"off").addClass(a+"on")}function o(){t(),ht.unbind(it,e).unbind(et,t),R.html(O.get("slideshowStart")).unbind(s).one(s,function(){Q.next(),i()}),v.removeClass(a+"on").addClass(a+"off")}function n(){r=!1,R.hide(),t(),ht.unbind(it,e).unbind(et,t),v.removeClass(a+"off "+a+"on")}var r,h,a=Y+"Slideshow_",s="click."+Y;return function(){r?O.get("slideshow")||(ht.unbind(ot,n),n()):O.get("slideshow")&&k[1]&&(r=!0,ht.one(ot,n),O.get("slideshowAuto")?i():o(),R.show())}}();t.colorbox||(t(f),(Q=t.fn[X]=t[X]=function(e,i){var o=this;if(e=e||{},t.isFunction(o))o=t("<a/>"),e.open=!0;else if(!o[0])return o;return o[0]?(f(),p()&&(i&&(e.onComplete=i),o.each(function(){var i=t.data(this,X)||{};t.data(this,X,t.extend(i,e))}).addClass(Z),new r(o[0],e).get("open")&&u(o[0])),o):o}).position=function(e,i){function o(){b[0].style.width=H[0].style.width=y[0].style.width=parseInt(v[0].style.width,10)-D+"px",y[0].style.height=T[0].style.height=C[0].style.height=parseInt(v[0].style.height,10)-_+"px"}var r,h,s,l=0,d=0,c=v.offset();if(W.off("resize."+Y),v.css({top:-9e4,left:-9e4}),h=W.scrollTop(),s=W.scrollLeft(),O.get("fixed")?(c.top-=h,c.left-=s,v.css({position:"fixed"})):(l=h,d=s,v.css({position:"absolute"})),d+=!1!==O.get("right")?Math.max(W.width()-O.w-A-D-a(O.get("right"),"x"),0):!1!==O.get("left")?a(O.get("left"),"x"):Math.round(Math.max(W.width()-O.w-A-D,0)/2),l+=!1!==O.get("bottom")?Math.max(n()-O.h-j-_-a(O.get("bottom"),"y"),0):!1!==O.get("top")?a(O.get("top"),"y"):Math.round(Math.max(n()-O.h-j-_,0)/2),v.css({top:c.top,left:c.left,visibility:"visible"}),x[0].style.width=x[0].style.height="9999px",r={width:O.w+A+D,height:O.h+j+_,top:l,left:d},e){var g=0;t.each(r,function(t){return r[t]!==lt[t]?void(g=e):void 0}),e=g}lt=r,e||v.css(r),v.dequeue().animate(r,{duration:e||0,complete:function(){o(),$=!1,x[0].style.width=O.w+A+D+"px",x[0].style.height=O.h+j+_+"px",O.get("reposition")&&setTimeout(function(){W.on("resize."+Y,Q.position)},1),i&&i()},step:o})},Q.resize=function(t){var e;U&&((t=t||{}).width&&(O.w=a(t.width,"x")-A-D),t.innerWidth&&(O.w=a(t.innerWidth,"x")),E.css({width:O.w}),t.height&&(O.h=a(t.height,"y")-j-_),t.innerHeight&&(O.h=a(t.innerHeight,"y")),t.innerHeight||t.height||(e=E.scrollTop(),E.css({height:"auto"}),O.h=E.height()),E.css({height:O.h}),e&&E.scrollTop(e),Q.position("none"===O.get("transition")?0:O.get("speed")))},Q.prep=function(i){if(U){var n,a="none"===O.get("transition")?0:O.get("speed");E.remove(),(E=o(at,"LoadedContent").append(i)).hide().appendTo(L.show()).css({width:(O.w=O.w||E.width(),O.w=O.mw&&O.mw<O.w?O.mw:O.w,O.w),overflow:O.get("scrolling")?"auto":"hidden"}).css({height:(O.h=O.h||E.height(),O.h=O.mh&&O.mh<O.h?O.mh:O.h,O.h)}).prependTo(y),L.hide(),t(z).css({float:"none"}),c(O.get("className")),n=function(){function i(){!1===t.support.opacity&&v[0].style.removeAttribute("filter")}var o,n,d=k.length;U&&(n=function(){clearTimeout(G),M.hide(),g(it),O.get("onComplete")},S.html(O.get("title")).show(),E.show(),d>1?("string"==typeof O.get("current")&&I.html(O.get("current").replace("{current}",N+1).replace("{total}",d)).show(),F[O.get("loop")||d-1>N?"show":"hide"]().html(O.get("next")),K[O.get("loop")||N?"show":"hide"]().html(O.get("previous")),dt(),O.get("preloading")&&t.each([h(-1),h(1)],function(){var i=k[this],o=new r(i,t.data(i,X)),n=o.get("href");n&&s(o,n)&&(n=l(o,n),e.createElement("img").src=n)})):B.hide(),O.get("iframe")?("frameBorder"in(o=e.createElement("iframe"))&&(o.frameBorder=0),"allowTransparency"in o&&(o.allowTransparency="true"),O.get("scrolling")||(o.scrolling="no"),t(o).attr({src:O.get("href"),name:(new Date).getTime(),class:Y+"Iframe",allowFullScreen:!0}).one("load",n).appendTo(E),ht.one(rt,function(){o.src="//about:blank"}),O.get("fastIframe")&&t(o).trigger("load")):n(),"fade"===O.get("transition")?v.fadeTo(a,1,i):i())},"fade"===O.get("transition")?v.fadeTo(a,0,function(){Q.position(0,n)}):Q.position(a,n)}},Q.next=function(){!$&&k[1]&&(O.get("loop")||k[N+1])&&(N=h(1),u(k[N]))},Q.prev=function(){!$&&k[1]&&(O.get("loop")||N)&&(N=h(-1),u(k[N]))},Q.close=function(){U&&!q&&(q=!0,U=!1,g(ot),O.get("onCleanup"),W.off("."+Y),w.fadeTo(O.get("fadeOut")||0,0),v.stop().fadeTo(O.get("fadeOut")||0,0,function(){v.hide(),w.hide(),g(rt),E.remove(),setTimeout(function(){q=!1,g(nt),O.get("onClosed")},1)}))},Q.remove=function(){v&&(v.stop(),t.colorbox.close(),v.stop().remove(),w.remove(),q=!1,v=null,t("."+Z).removeData(X).removeClass(Z),t(e).unbind("click."+Y))},Q.element=function(){return t(O.el)},Q.settings=V)}(jQuery,document,window);
!function(t,e){var n=e.element.createElement,i=e.blocks.registerBlockType,a={};i("urvanov-syntax-highlighter/code-block",{title:"Urvanov Syntax Highlighter",icon:"editor-code",category:"formatting",attributes:{content:{type:"string",source:"html",selector:"div"}},edit:function(t){var i=t.attributes.content;return n(e.element.Fragment,null,n(e.editor.BlockControls,null,n(e.components.Toolbar,null,n(e.components.IconButton,{icon:"editor-code",title:"UrvanovSyntaxHighlighter",onClick:function(){window.UrvanovSyntaxHighlighterTagEditor.showDialog({update:function(t){},br_html_block_after:"",input:"decode",output:"encode",node:i?UrvanovSyntaxHighlighterUtil.htmlToElements(i)[0]:null,insert:function(e){var n;n=e,t.setAttributes({content:n})}})}},"UrvanovSyntaxHighlighter"))),n("div",{style:a,dangerouslySetInnerHTML:{__html:t.attributes.content}}))},save:function(t){var e=t.attributes.content;return n("div",{dangerouslySetInnerHTML:{__html:e}})}});e.richText.registerFormatType("urvanov-syntax-highlighter/code-inline",{title:"UrvanovSyntaxHighlighter",tagName:"span",className:"crayon-inline",edit:function(t){return e.element.createElement(e.editor.RichTextToolbarButton,{icon:"editor-code",title:"UrvanovSyntaxHighlighter",onClick:function(n){var i=e.richText.getActiveFormat(t.value,"urvanov-syntax-highlighter/code-inline"),a=t.value.start,l=t.value.end;if(i){for(var r="urvanov-syntax-highlighter/code-inline";t.value.formats[a]&&t.value.formats[a].find(function(t){return t.type==r});)a--;for(a++,l++;t.value.formats[l]&&t.value.formats[l].find(function(t){return t.type==r});)l++;var o=e.richText.slice(t.value,a,l),s=e.richText.toHTMLString({value:o}),h=UrvanovSyntaxHighlighterUtil.htmlToElements(s)[0]}else o=e.richText.slice(t.value,a,l),s='<span class="crayon-inline">'+e.richText.toHTMLString({value:o})+"</span>",h=UrvanovSyntaxHighlighterUtil.htmlToElements(s)[0];window.UrvanovSyntaxHighlighterTagEditor.showDialog({update:function(t){},node:h,input:"decode",output:"encode",insert:function(n){t.onChange(e.richText.insert(t.value,e.richText.create({html:n}),a,l))}})},isActive:t.isActive})}}),window.UrvanovSyntaxHighlighterTagEditor=new function(){var e,n,i,a,l,r,o,s,h,c,v,g,u,d,f,x,p,y,_,m,b=this,U=!1,S=!1,H=!1,T=0,w=null,k="",C=!1,E={inline:!0,width:690,height:"90%",closeButton:!1,fixed:!0,transition:"none",className:"urvanov-syntax-highlighter-colorbox",onOpen:function(){t(this.outer).prepend(t(g.bar_content))},onComplete:function(){t(g.code_css).focus()},onCleanup:function(){t(g.bar).prepend(t(g.bar_content))}};b.init=function(){g=UrvanovSyntaxHighlighterTagEditorSettings,u=UrvanovSyntaxHighlighterSyntaxSettings,d=UrvanovSyntaxHighlighterUtil,E.href=g.content_css},b.bind=function(e){U||(U=!0,b.init()),t(e).each(function(e,n){var i=t(n),a=t('<a class="urvanov-syntax-highlighter-tag-editor-button-wrapper"></a>').attr("href",g.content_css);i.after(a),a.append(i),a.colorbox(E)})},b.hide=function(){return t.colorbox.close(),!1},b.loadDialog=function(e){S?e&&e():(S=!0,UrvanovSyntaxHighlighterUtil.getAJAX({action:"urvanov-syntax-highlighter-tag-editor",is_admin:u.is_admin},function(n){(f=t('<div id="'+g.css+'"></div>')).appendTo("body").hide(),f.html(n),b.setOrigValues(),y=f.find(g.submit_css),_=f.find(g.cancel_css),x=t(g.code_css),p=t("#urvanov-syntax-highlighter-te-clear"),c=function(){var t=p.is(":visible");x.val().length>0&&!t?(p.show(),x.removeClass(u.selected)):x.val().length<=0&&p.hide()},x.keyup(c),x.change(c),p.on( 'click', function(){x.val(""),x.removeClass(u.selected),x.focus()});var i=t(g.url_css),a=t(g.url_info_css),l=UrvanovSyntaxHighlighterTagEditorSettings.extensions;v=function(){i.val().length>0&&!a.is(":visible")?(a.show(),i.removeClass(u.selected)):i.val().length<=0&&a.hide();var e=UrvanovSyntaxHighlighterUtil.getExt(i.val());if(e){var n=l[e],r=n||e,o=UrvanovSyntaxHighlighterTagEditorSettings.fallback_lang;t(g.lang_css+" option").each(function(){t(this).val()==r&&(o=r)}),t(g.lang_css).val(o)}},i.keyup(v),i.change(v);var r=function(){var e=t(this),n=t(this).attr(u.orig_value);void 0===n&&(n="");var i=b.settingValue(e);UrvanovSyntaxHighlighterUtil.log(e.attr("id")+" value: "+i);var a=null;e.is("input[type=checkbox]")&&(a=e.next("span")),UrvanovSyntaxHighlighterUtil.log("   >>> "+e.attr("id")+" is "+n+" = "+i),n==i?(e.removeClass(u.changed),a&&a.removeClass(u.changed)):(e.addClass(u.changed),a&&a.addClass(u.changed)),b.settingValue(e,i)};t("."+u.setting+"[id]:not(."+u.special+")").each(function(){t(this).change(r),t(this).keyup(r)}),e&&e()}))},b.showDialog=function(e){b.loadDialog(function(){t.colorbox(E),b._showDialog(e)})},b._showDialog=function(d){d=t.extend({insert:null,edit:null,show:null,hide:b.hide,select:null,editor_str:null,ed:null,node:null,input:null,output:null,br_html_block_after:"<p>&nbsp;</p>"},d),b.resetSettings(),e=d.insert,n=d.edit,i=d.show,a=d.hide,l=d.select,r=d.input,o=d.output,s=d.editor_str,m=d.br_html_block_after;var f=d.node;f=d.node;if(C=!1,y.unbind(),y.on( 'click', function(t){b.submitButton(),t.preventDefault()}),b.setSubmitText(g.submit_add),_.unbind(),_.on( 'click',function(t){b.hide(),t.preventDefault()}),b.isUrvanovSyntaxHighlighter(f))if(0!=(w=t(f)).length){k=w.attr("class");var p=new RegExp("\\b([A-Za-z-]+)"+g.attr_sep+"(\\S+)","gim"),U=p.execAll(k);k=t.trim(k.replace(p,""));var S={};for(var E in U){var D=U[E][1],A=U[E][2];S[D]=A}var V=w.attr("title");V&&(S.title=V);var B=w.attr("data-url");B&&(S.url=B),void 0!==S.highlight&&(S.highlight="1"),C=w.hasClass("crayon-inline"),S.inline=C?"1":"0";var I=[];for(var N in t(g.lang_css+" option").each(function(){var e=t(this).val();e&&I.push(e)}),-1==t.inArray(S.lang,I)&&(S.lang=g.fallback_lang),S=b.validate(S)){var F=t("#"+u.prefix+N+"."+u.setting);A=S[N];b.settingValue(F,A),F.change(),F.hasClass(u.special)||(F.addClass(u.changed),F.is("input[type=checkbox]")&&(highlight=F.next("span"),highlight.addClass(u.changed))),UrvanovSyntaxHighlighterUtil.log("loaded: "+N+":"+A)}H=!0,b.setSubmitText(g.submit_edit);var L=w.html();"encode"==r?L=UrvanovSyntaxHighlighterUtil.encode_html(L):"decode"==r&&(L=UrvanovSyntaxHighlighterUtil.decode_html(L)),x.val(L)}else UrvanovSyntaxHighlighterUtil.log("cannot load currNode of type pre");else l&&x.val(l),H=!1,b.setSubmitText(g.submit_add),w=null,k="";var M=t("#"+g.inline_css);M.change(function(){C=t(this).is(":checked");var e=t("."+g.inline_hide_css),n=t("."+g.inline_hide_only_css),i=[g.mark_css,g.range_css,g.title_css,g.url_css];for(var a in i){t(i[a]).attr("disabled",C)}if(C)for(var a in e.hide(),n.hide(),e.closest("tr").hide(),i){t(i[a]).addClass("urvanov-syntax-highlighter-disabled")}else for(var a in e.show(),n.show(),e.closest("tr").show(),i){t(i[a]).removeClass("urvanov-syntax-highlighter-disabled")}}),M.change();var R=H?g.edit_text:g.add_text;t(g.dialog_title_css).html(R),i&&i(),x.focus(),c(),v(),h&&(clearInterval(h),T=0);var j=t("#TB_window");j.hide();var O=function(){j.show();var e=t(window).scrollTop();t(window).scrollTop(e+10),t(window).scrollTop(e-10)};h=setInterval(function(){void 0===j||j.hasClass("urvanov-syntax-highlighter-te-ajax")||(j.addClass("urvanov-syntax-highlighter-te-ajax"),clearInterval(h),O()),T>=100&&(clearInterval(h),O()),T++},40)},b.addUrvanovSyntaxHighlighter=function(){if(0==(_=t(g.url_css)).val().length&&0==x.val().length)return x.addClass(u.selected),x.focus(),!1;x.removeClass(u.selected);var i=t("#"+g.inline_css);C=0!=i.length&&i.is(":checked");var a=br_after="";H||(br_after=C?"html"==s?a=" ":"&nbsp;":"html"==s?a=" \n":m);var l=C?"span":"pre",r=a+"<"+l+" ",h={};r+='class="';var c=new RegExp("\\bcrayon-inline\\b","gim");C?null==c.exec(k)&&(k+=" crayon-inline "):k=k.replace(c,""),t("."+u.changed+"[id],."+u.changed+"["+g.data_value+"]").each(function(){var e=t(this).attr("id"),n=t(this).attr(g.data_value);e=d.removePrefixFromID(e),h[e]=n}),h.lang=t(g.lang_css).val();var v=t(g.mark_css).val();0==v.length||C||(h.mark=v);var f=t(g.range_css).val();for(var p in 0==f.length||C||(h.range=f),t(g.hl_css).is(":checked")&&(h.highlight="0"),h.decode="true",h=b.validate(h)){var y=h[p];UrvanovSyntaxHighlighterUtil.log("add "+p+":"+y),r+=p+g.attr_sep+y+" "}if(r+=k,r+='" ',!C){var _,U=t(g.title_css).val();0!=U.length&&(r+='title="'+U+'" '),0!=(_=t(g.url_css).val()).length&&(r+='data-url="'+_+'" ')}var S=t(g.code_css).val();return"encode"==o?S=UrvanovSyntaxHighlighterUtil.encode_html(S):"decode"==o&&(S=UrvanovSyntaxHighlighterUtil.decode_html(S)),r+=">"+(S=void 0!==S?S:"")+"</"+l+">"+br_after,H&&n?n(r):e&&e(r),!0},b.submitButton=function(){UrvanovSyntaxHighlighterUtil.log("submit"),0!=b.addUrvanovSyntaxHighlighter()&&b.hideDialog()},b.hideDialog=function(){UrvanovSyntaxHighlighterUtil.log("hide"),a&&a()},b.setOrigValues=function(){t("."+u.setting+"[id]").each(function(){var e=t(this);e.attr(u.orig_value,b.settingValue(e))})},b.resetSettings=function(){UrvanovSyntaxHighlighterUtil.log("reset"),t("."+u.setting).each(function(){var e=t(this);b.settingValue(e,e.attr(u.orig_value)),e.change()}),x.val("")},b.settingValue=function(t,e){if(void 0===e)return e="",e=t.is("input[type=checkbox]")?t.is(":checked")?"true":"false":t.val();t.is("input[type=checkbox]")?("string"==typeof e&&("true"==e||"1"==e?e=!0:"false"!=e&&"0"!=e||(e=!1)),t.prop("checked",e)):t.val(e),t.attr(g.data_value,e)},b.validate=function(t){var e=["range","mark"];for(var n in e){var i=e[n];void 0!==t[i]&&(t[i]=t[i].replace(/\s/g,""))}return t},b.isUrvanovSyntaxHighlighter=function(e){return null!=e&&("PRE"==e.nodeName||"SPAN"==e.nodeName&&t(e).hasClass("crayon-inline"))},b.elemValue=function(t){return t.is("input[type=checkbox]")?t.is(":checked"):t.val()},b.setSubmitText=function(t){y.html(t)}}}(jQueryUrvanovSyntaxHighlighter,wp);
